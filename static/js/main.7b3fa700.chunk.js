(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o);a(75),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(43),i=a(33),l=a(34),u=a(44),p=a(35),h=a(45),d=a(46),m=a.n(d),f=a(152),v=a(151),y=a(149),_=a(150),g=a(142),E=a(146),S=a(147),b=function(e){return parseInt(e.replace(/,/g,""))},O=function(e){return r.a.createElement(g.a,{variant:"outlined",key:e.country_name},r.a.createElement(E.a,null,r.a.createElement(S.a,{color:"textSecondary",gutterBottom:!0},e.country_name),r.a.createElement(S.a,{variant:"h5",component:"h2"},"Cases: ",e.cases),b(e.new_cases)?r.a.createElement(S.a,{color:"textSecondary",variant:"h5",component:"h2"},"New cases: ",e.new_cases,","," ",(b(e.new_cases)/b(e.cases)*100).toFixed(2)+"%"):null,b(e.deaths)?r.a.createElement(S.a,null,"Deaths: ",e.deaths,","," ",(b(e.deaths)/b(e.cases)*100).toFixed(2)+"%"):null,b(e.new_deaths)?r.a.createElement(S.a,{color:"textSecondary",variant:"h5",component:"h2"},"New deaths: ",e.new_deaths,","," ",(b(e.new_deaths)/b(e.deaths)*100).toFixed(2)+"%"):null,b(e.serious_critical)?r.a.createElement(S.a,{variant:"h5",component:"h2"},"Critical: ",e.serious_critical,","," ",(b(e.serious_critical)/b(e.cases)*100).toFixed(2)+"%"):null,b(e.total_recovered)?r.a.createElement(S.a,{variant:"h5",component:"h2"},"Recovered: ",e.total_recovered,","," ",(b(e.total_recovered)/b(e.cases)*100).toFixed(2)+"%"):null,e.region&&r.a.createElement(S.a,{color:"textSecondary",variant:"body2",component:"p"},"Region: ",e.region,r.a.createElement("br",null))))},w=a(65),x=a(13),j=a.n(x),k=a(63),C=a(153),D=a(154),A=a(148),I=a(155),M=(a(106),a(64)),N=a.n(M);delete j.a.Icon.Default.prototype._getIconUrl,j.a.Icon.Default.mergeOptions({iconRetinaUrl:a(107),iconUrl:a(108),shadowUrl:a(109)});var F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).provider=new k.EsriProvider,a.state={results:[]},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.stats.map((function(t){return e.provider.search({query:t.country_name}).then((function(a){if(a[0]){var n=Object(w.a)({},t,{coords:[a[0].y,a[0].x]});e.setState((function(e){return{results:[].concat(Object(s.a)(e.results),[n])}}))}}))}))}},{key:"render",value:function(){var e=(new Date).getHours(),t=e>6&&e<20;return r.a.createElement(C.a,{center:[0,0],zoom:2,style:{height:"400px"},minZoom:2},r.a.createElement(D.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",noWrap:!0,className:t?null:N.a["leaflet-tile"]}),this.state.results.map((function(e,t){return r.a.createElement(A.a,{position:e.coords,key:t},r.a.createElement(I.a,null,r.a.createElement(O,e)))})))}}]),t}(r.a.Component),G=a(50),R=a.n(G),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={country:"All",selectedStats:[],allCountries:[],countriesStats:[],___isSelectorOpen:!1},a.getGeoInfo=function(){m.a.get("https://ipapi.co/json/").then((function(e){var t=e.data;a.setState({country:t.country_name})})).catch((function(e){console.log(e)}))},a.getAllCountries=function(){m()({method:"GET",url:"https://coronavirus-monitor.p.rapidapi.com/coronavirus/affected.php",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"coronavirus-monitor.p.rapidapi.com","x-rapidapi-key":"6031df45bfmshc5765d0ea25d076p1365efjsne5a49e4220bd"}}).then((function(e){a.setState({allCountries:e.data.affected_countries})})).catch((function(e){console.log(e)}))},a.fetchData=function(){m()({method:"GET",url:"https://coronavirus-monitor.p.rapidapi.com/coronavirus/cases_by_country.php",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"coronavirus-monitor.p.rapidapi.com","x-rapidapi-key":"6031df45bfmshc5765d0ea25d076p1365efjsne5a49e4220bd"}}).then((function(e){a.setState({countriesStats:e.data.countries_stat}),a.renderData(a.state.country)}))},a.changeHandler=function(e){a.renderData(e.target.value)},a.renderData=function(e){if("All"!==e){a.setState({country:e});var t=a.state.countriesStats.filter((function(t){return t.country_name===e}));a.setState({selectedStats:Object(s.a)(t)})}else a.setState({selectedStats:a.state.countriesStats,country:e})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getAllCountries(),this.fetchData(),this.getGeoInfo()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:R.a.main},r.a.createElement(y.a,null,r.a.createElement(f.a,null,"Country"),r.a.createElement(_.a,{open:this.state.___isSelectorOpen,onClose:function(){return e.setState({___isSelectorOpen:!1})},onOpen:function(){return e.setState({___isSelectorOpen:!0})},value:this.state.country,onChange:function(t){return e.changeHandler(t)}},r.a.createElement(v.a,{value:"All"},r.a.createElement("em",null,"All")),this.state.allCountries.map((function(e,t){return r.a.createElement(v.a,{value:e,key:t},e)})))),r.a.createElement("div",{className:R.a.cards},this.state.selectedStats.map((function(e,t){return r.a.createElement(O,Object.assign({},e,{key:t}))}))),this.state.countriesStats.length&&r.a.createElement(F,{stats:this.state.countriesStats}))}}]),t}(r.a.Component);c.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){e.exports={main:"Main_main__3Rkai",cards:"Main_cards__1AlNj"}},64:function(e,t,a){e.exports={"leaflet-tile":"Maps_leaflet-tile__3uOIT"}},70:function(e,t,a){e.exports=a(110)},75:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.7b3fa700.chunk.js.map